---
title: Rustå…¥é—¨ï¼ˆäºŒï¼‰ï¼šåŸºç¡€è¯­æ³•
---


# Rustå…¥é—¨ï¼ˆäºŒï¼‰ï¼šåŸºç¡€è¯­æ³•

## Rustå˜é‡

rustä¸­ä½¿ç”¨letå…³é”®å­—æ¥åˆå§‹åŒ–ä¸€ä¸ªå˜é‡ï¼Œå˜é‡åœ¨åˆå§‹åŒ–çš„æ—¶å€™å¿…é¡»æœ‰ä¸€ä¸ªåˆå§‹å€¼ï¼ŒåŒæ—¶rustä¸­å˜é‡ä¸å¯å˜ï¼Œåœ¨åˆå§‹åŒ–ä¹‹åå°±ä¸å¯ä»¥å†æ›´æ”¹äº†ï¼š

```rust
//å˜é‡ä¸å¯å˜
let x = 5;
//è¿™ç§æƒ…å†µæ˜¯ä¸å…è®¸çš„ï¼Œä¸å¯ä»¥äºŒæ¬¡èµ‹å€¼
x = 6;
```

ä½¿ç”¨mutå…³é”®å­—å¯ä»¥ä½¿å¾—å˜é‡æˆä¸ºå¯ä»¥æ”¹å˜çš„ï¼š

```rust
//å˜é‡ä¸å¯å˜
let mut x = 5;
//è¿™ç§æƒ…å†µæ˜¯å…è®¸çš„ï¼Œmutå˜é‡äºŒæ¬¡èµ‹å€¼
x = 6;
```

ä½¿ç”¨constå…³é”®å­—å¯ä»¥å®šä¹‰å¸¸é‡ï¼Œå¸¸é‡ä¸å¯ä»¥mutï¼Œå¹¶ä¸”å¿…é¡»å£°æ˜ç±»å‹ï¼Œå¯ä»¥åœ¨å…¨å±€å®šä¹‰ï¼Œå…¨å¤§å†™ã€‚å¸¸é‡å¯ä»¥åœ¨ä»»ä½•ä½œç”¨åŸŸä¸­å£°æ˜ï¼Œæ¯”å¦‚mainå‡½æ•°ä¹‹å‰ï¼š

```rust
const X:i32 = 1000;
```

å¦‚æœæˆ‘ä»¬å…ˆå£°æ˜ä¸€ä¸ªå˜é‡ï¼Œä¹‹åå†ç”¨letå£°æ˜åŒä¸€ä¸ªå˜é‡ï¼Œè¿™æ˜¯å…è®¸çš„ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºç¬¬ä¸€ä¸ªå˜é‡éšè—äº†ï¼Œè¿™ä¸€ä¸ªè¿‡ç¨‹ä¸­ï¼Œå˜é‡çš„ç±»å‹å’Œæ•°å€¼éƒ½å¯ä»¥æ”¹å˜ï¼Œè¿™ä¸€ä¸ªæ“ä½œçš„å¥½å¤„æ˜¯èŠ‚çº¦å†…å­˜ï¼š

```rust
//shadow
let x = 5;
let x = true;
```

## RuståŸºç¡€æ•°æ®ç±»å‹

Rust æ˜¯é™æ€ç±»å‹è¯­è¨€ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨ç¼–è¯‘æ—¶å°±å¿…é¡»çŸ¥é“æ‰€æœ‰å˜é‡çš„ç±»å‹

- æ•´æ•°

â€‹	rustçš„æ•´æ•°åˆ†ä¸ºæœ‰ç¬¦å·å’Œæ— ç¬¦å·ä¸¤ç§ï¼ŒåŒæ—¶æˆ‘ä»¬å¯ä»¥é€šè¿‡è®¾å®šé•¿åº¦æ¥é™åˆ¶æ•´æ•°çš„é•¿åº¦ï¼Œé•¿åº¦å¯ä»¥è®¾ç½®ä¸º8ï¼Œ16ï¼Œ32ï¼Œ64ï¼Œ128è¿™å‡ ç§ï¼ŒåŒæ—¶rustè¿˜æ”¯æŒä½¿ç”¨`isize`è¿™æ ·çš„å½¢å¼å®šä¹‰æ•´æ•°ï¼Œå®ƒå¯ä»¥æ ¹æ®æœ¬æœºçš„ä½æ•°æ¥è®¾å®šé•¿åº¦ï¼Œæ¯”å¦‚64ä½çš„ç”µè„‘å°±ä¸i64çš„æ•ˆæœä¸€è‡´ã€‚å¯ä»¥ä½¿ç”¨ä¸‹é¢ä¸¤ç§æ–¹å¼æ¥å®šä¹‰ä¸€ä¸ªæŒ‡å®šç±»å‹çš„æ•´æ•°

```rust
let num:u8 = 42;
let num = 42u8;
```

åŒæ—¶æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¤šç§è¿›åˆ¶æ¥è¡¨è¿°ä¸€ä¸ªæ•´æ•°ç±»å‹å€¼

```rust
//åè¿›åˆ¶ï¼Œå¯ä»¥ä½¿ç”¨_éš”å¼€ï¼Œä¸98222ä¸€è‡´
let num = 98_222;
//åå…­è¿›åˆ¶
let num = 0xff;
//å…«è¿›åˆ¶
let num = 0o77;
//äºŒè¿›åˆ¶
let num = 0b1111;
//å•å­—èŠ‚å­—ç¬¦(ä»…é™u8)
let num = b'A';
```

- æµ®ç‚¹æ•°

â€‹	æµ®ç‚¹æ•°ä»…æœ‰32å’Œ64ä½ä¸¤ç§ç±»å‹ï¼Œé»˜è®¤ç±»å‹æ˜¯ 64ä½æµ®ç‚¹æ•°

```rust
//è¿™ä¸ªæ—¶å€™å°±ç®—f64
let x = 2.0;
let y:f32 = 2.0;
```

Rust ä¸­çš„æ‰€æœ‰æ•°å­—ç±»å‹éƒ½æ”¯æŒåŸºæœ¬æ•°å­¦è¿ç®—ï¼šåŠ æ³•ã€å‡æ³•ã€ä¹˜æ³•ã€é™¤æ³•å’Œå–ä½™ï¼Œåˆ†åˆ«ä½¿ç”¨ +ï¼Œ-ï¼Œ*ï¼Œ/ï¼Œ%ç¬¦å·æ¥å®Œæˆï¼Œé™¤æ³•ä¼šå‘ä¸‹å–æœ€æ¥è¿‘çš„æ•´æ•°ã€‚

- å¸ƒå°”å‹

â€‹	Rust ä¸­çš„å¸ƒå°”ç±»å‹ï¼ˆboolï¼‰æœ‰ä¸¤ä¸ªå¯èƒ½çš„å€¼ï¼štrueå’Œ false

```rust
//boolean
let t:bool = true;
```

- å­—ç¬¦ç±»å‹

â€‹	rustä¸­çš„å­—ç¬¦ç±»å‹æ•°æ®å 4ç»™å­—èŠ‚ï¼Œå¹¶ä¸”ä½¿ç”¨ Unicode ç¼–ç ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è‹±æ–‡å­—æ¯ï¼Œå¤–æ–‡å­—æ¯ï¼Œemjoyè¡¨æƒ…ç­‰å­—ç¬¦ï¼š

```rust
let c = 'z';
let z: char = 'â„¤'; 
let heart_eyed_cat = 'ğŸ˜»';
```

## Rustå¤åˆæ•°æ®ç±»å‹

å¤åˆç±»å‹å°†å¤šä¸ªå€¼ç»„åˆæˆä¸€ä¸ªç±»å‹ï¼ŒRust æœ‰ä¸¤ä¸ªåŸç”Ÿçš„å¤åˆç±»å‹ï¼šå…ƒç»„ï¼ˆtupleï¼‰å’Œæ•°ç»„ï¼ˆarrayï¼‰

- å…ƒç»„

â€‹	å…ƒç»„tupleï¼Œé•¿åº¦å›ºå®šï¼Œä¸”å†…å®¹ä¸èƒ½ä¿®æ”¹ï¼Œå…ƒç»„ä¸­çš„æ•°æ®ç±»å‹å¯ä»¥ä¸åŒ

```rust
let tup = (10,21,'c');
```

ä½¿ç”¨æ¨¡æ¿åŒ¹é…çš„æ–¹å¼å¯ä»¥æå–å‡ºå…ƒç»„çš„æ¯ä¸€ä¸ªæ•°æ®ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ä¸‹æ ‡æ¥è®¿é—®

```rust
let (x,y,z) = tup;
let k = tup.1;
```

ä¸å¸¦ä»»ä½•å€¼çš„å…ƒç»„æœ‰ä¸ªç‰¹æ®Šçš„åç§°ï¼Œå«åšå•å…ƒï¼ˆunitï¼‰ å…ƒç»„ã€‚è¿™ç§å€¼ä»¥åŠå¯¹åº”çš„ç±»å‹éƒ½å†™ä½œ `()`ï¼Œè¡¨ç¤ºç©ºå€¼æˆ–ç©ºçš„è¿”å›ç±»å‹ã€‚å¦‚æœè¡¨è¾¾å¼ä¸è¿”å›ä»»ä½•å…¶ä»–å€¼ï¼Œåˆ™ä¼šéšå¼è¿”å›å•å…ƒå€¼ã€‚

- æ•°ç»„

â€‹	æ•°ç»„arrayåŒæ ·é•¿åº¦å›ºå®šï¼Œä½†æ˜¯å…¶ä¸­çš„ç±»å‹å¿…é¡»ä¸€è‡´ï¼Œå†…å®¹ä¹ŸåŒæ ·ä¸å¯å˜ï¼š

```rust
let arr = [1,2,3,4];
//ä½¿ç”¨[ç±»å‹;æ•°é‡]çš„æ–¹å¼å¯ä»¥å®šä¹‰æ•°ç»„çš„ç±»å‹
//åŒæ—¶å¦‚ä¸‹æ–¹å¼å¯ä»¥ç›´æ¥ç”Ÿæˆ[3,3,3,3,3]5ä¸ª3çš„æ•°ç»„
let a:[i32;5]= [3;5];
```

æ•°ç»„å¯ä»¥é€šè¿‡ä¸‹æ ‡è®¿é—®

```rust
let first = a[0];
```

## Rustçš„å‡½æ•°

`fn`å…³é”®å­—ï¼Œå®ƒç”¨æ¥å£°æ˜æ–°å‡½æ•°ï¼Œå‡½æ•°ä¸­çš„å‚æ•°å¿…é¡»å£°æ˜ç±»å‹ï¼Œå¦‚æœå‡½æ•°æœ‰è¿”å›å€¼ï¼Œè¿”å›çš„å†…å®¹ä¹Ÿå¿…é¡»ç»™å‡ºç±»å‹ï¼Œå‡½æ•°çš„å®šä¹‰å¦‚ä¸‹ï¼š

```rust
//å‡½æ•°å®šä¹‰,å‚æ•°ç±»å‹å¿…é¡»æŒ‡æ˜,è¿”å›å€¼ä¹Ÿéœ€è¦å£°æ˜
fn test(x:i32,y:i32)  -> i32 {
    5
}
```

å‡½æ•°ä¸­çš„æ‰§è¡ŒæŸäº›æ“ä½œçš„æŒ‡ä»¤è¢«ç§°ä¸ºè¯­å¥ï¼Œè¯­å¥ç”±åˆ†å·ç»“å°¾ï¼›äºŒè¿”å›ä¸€ä¸ªå€¼çš„æŒ‡ä»¤è¢«æ›¾ä¸ºè¡¨è¾¾å¼ï¼Œè¡¨è¾¾å¼ä¸èƒ½ç”±åˆ†å·ç»“å°¾ï¼Œä¸€ä¸ªå‡½æ•°å¯ä»¥åŒ…æ‹¬å¤šä¸ªè¯­å¥ï¼ŒåŒæ—¶åœ¨å‡½æ•°ç»“å°¾éœ€è¦ä¸€ä¸ªè¡¨è¾¾å¼æ¥ä½œä¸ºå‡½æ•°çš„è¿”å›å€¼ã€‚

```rust
//å‡½æ•°å®šä¹‰,å‚æ•°ç±»å‹å¿…é¡»æŒ‡æ˜,è¿”å›å€¼ä¹Ÿéœ€è¦å£°æ˜
fn test(x:i32,y:i32)  -> i32 {
    //è¯­å¥
   	let x = x+1;
    let y = y+1;
    //è¡¨è¾¾å¼
    x+y
}
```

## Rustæ§åˆ¶æµ

rustå’Œå…¶ä»–è¯­è¨€ç±»ä¼¼å…·æœ‰ifç­‰æ¡ä»¶æ§åˆ¶è¯­å¥ï¼Œä¹Ÿæœ‰whileå’Œforç­‰å¾ªç¯è¯­å¥

- if

â€‹	if è¡¨è¾¾å¼å…è®¸æ ¹æ®æ¡ä»¶æ‰§è¡Œä¸åŒçš„ä»£ç åˆ†æ”¯ã€‚if è¯­å¥ä¸­åŒ…å«ä¸€ä¸ª*è¡¨è¾¾å¼*ï¼Œè¡¨è¾¾å¼çš„å€¼å¿…é¡»æ˜¯ä¸€ä¸ªboolç±»å‹ï¼Œè¿”å›trueæˆ–è€…falseï¼Œè¦æ³¨æ„ï¼Œrustå¹¶ä¸ä¼šå°†å…¶ä»–ç±»å‹çš„å€¼è½¬åŒ–ä¸ºboolè¿›è¡Œè¿ç®—ï¼Œifï¼ˆ1ï¼‰è¿™äº›çš„å†™æ³•æ˜¯ä¸å…è®¸çš„ï¼š

```rust
if number > 5 {
    println!("1");
}else if number == 5 {
    println!("2");
}else{
    println!("3");
}
//è¿™æ ·æ˜¯ä¸å…è®¸çš„ï¼š
if number {
}
```

å¯ä»¥é€šè¿‡åœ¨ if è¯­å¥ä¸­è¿”å›ä¸€ä¸ªè¡¨è¾¾å¼æ¥å®ç°â€œä¸‰ç›®è¿ç®—â€ ç­‰ç±»ä¼¼æ“ä½œï¼Œä½†æ˜¯è¿”å›å€¼å¿…é¡»æ˜¯åŒä¸€ä¸ªç±»å‹

```rust
let condition = true;
//ç›¸å½“äºä¸‰ç›®è¿ç®—ï¼Œä½†æ˜¯è¿”å›å€¼å¿…é¡»ä¸€è‡´
let num = if condition {5} else {6};
```

- loopå¾ªç¯

â€‹	loop å¾ªç¯å°†å¾ªç¯æ‰§è¡Œå®ƒåŒ…å«çš„è¯­å¥ï¼Œç›´åˆ°é‡åˆ° break å…³é”®å­—å°†å…¶ä¸­æ–­ï¼ŒåŒæ—¶åœ¨breakä¹‹åè¿˜å¯ä»¥ç¼–å†™ä¸€ä¸ªè¡¨è¾¾å¼ä½œä¸ºè¿”å›å€¼ã€‚è¦æ³¨æ„ï¼Œæ­¤å¤„éœ€è¦ä¸€ä¸ªåˆ†å·ï¼Œå› ä¸ºæ•´ä¸ªè¯­å¥æ˜¯ä¸€ä¸ªèµ‹å€¼è¯­å¥ã€‚

```rust
let mut conuter = 1;
let re = loop {
     conuter += 1;
     if conuter == 10 {
         //è¿”å›ï¼Œå¹¶ä¸”å¯ä»¥è¿”å›å€¼
         break conuter * 2;
     }
};
//æ•´ä¸ªç›¸å½“äºä¸€ä¸ª let re = 10 * 2; è¿™æ ·çš„è¯­å¥
```

å¦‚æœæœ‰å¤šé‡å¾ªç¯ï¼Œå¯ä»¥é€šè¿‡ç»™å®šä¸€ä¸ªå¾ªç¯æ ‡ç­¾çš„æ–¹å¼æ¥å‘ŠçŸ¥ä¸­æ–­å“ªä¸€ä¸ªå¾ªç¯

```rust
fn main() {
    let mut count = 0;
    //ç»™å®šä¸€ä¸ªæ ‡ç­¾
    'counting_up: loop {
        println!("count = {count}");
        let mut remaining = 10;
        loop {
            println!("remaining = {remaining}");
            if remaining == 9 {
                break;
            }
            if count == 2 {
                //ä¸­æ–­æŒ‡å®šæ ‡ç­¾çš„å¾ªç¯
                break 'counting_up;
            }
            remaining -= 1;
        }
        count += 1;
    }
    println!("End count = {count}");
}
```

- whileå¾ªç¯

â€‹	while å¾ªç¯åœ¨æŒ‡å®šçš„æ¡ä»¶ä¸ºçœŸæ—¶å¾ªç¯æ‰§è¡Œ

```rust
while conuter != 0 {
      conuter = conuter -1;
}
```

- forå¾ªç¯

â€‹	for å¾ªç¯å¯ä»¥é™å®šå¾ªç¯çš„æ¬¡æ•°ï¼Œä½ å¯ä»¥ç”¨ for è¯­å¥éå†ä¸€ä¸ªæ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨rangeè‡ªå·±åˆ›å»ºä¸€ä¸ªå¾ªç¯çš„èŒƒå›´æ¥é™å®šå¾ªç¯æ¬¡æ•°ï¼Œä½¿ç”¨rangeåˆ›å»ºçš„èŒƒå›´æ˜¯ [ a,b ) çš„åŒºé—´ï¼Œå¯ä»¥å–åˆ°åˆå€¼ä½†æ˜¯ä¸èƒ½å–åˆ°æœ«å€¼

```rust
let a = [10, 20, 30, 40, 50];
for e in a {
   println!("{}",e);
}
//åœ¨ä¸€ä¸ªèŒƒå›´å†…è¿è¡Œï¼Œä¸åŒ…å«10ï¼ŒåŒ…å«1
for e in (1..10) {
   println!("{}",e);
}
```

## Rustç»“æ„ä½“

rustä½¿ç”¨structæ¥å®šä¹‰ä¸€ä¸ªåŒ…å«å¤šç§æ•°æ®ç±»å‹çš„ç»“æ„ï¼Œstruct ä¸­çš„æ¯ä¸ªå­—æ®µéœ€è¦ç»™å‡ºåå­—å’Œæ•°æ®ç±»å‹ï¼Œåœ¨åˆ›å»ºä¸€ä¸ªstruct å®ä¾‹æ—¶ï¼Œéœ€è¦å¯¹å…¶ä¸­çš„æ¯ä¸€ä¸ªå­—æ®µèµ‹å€¼ï¼ŒåŒæ ·ï¼Œstruct å®ä¾‹ä¹Ÿå¯ä»¥æ˜¯å¯å˜çš„ï¼Œå¦‚æœä¸€ä¸ª struct å®ä¾‹æ˜¯å¯å˜çš„ï¼Œé‚£ä¹ˆå…¶ä¸­çš„æ¯ä¸€ä¸ªå­—æ®µéƒ½æ˜¯å¯å˜çš„ï¼Œä½¿ç”¨ `.` è®°å·å¯ä»¥æ‰¾åˆ°å®ä¾‹ä¸­çš„å­—æ®µ

```rust
struct User {
     name:String,
     email:String,
     active:u32,
}
//å®ä¾‹åŒ–
let mut user1 = User{
     email:String::from("122"),
     name:String::from("zs"),
     active:1,
};
//ä¿®æ”¹ä¸€ä¸ªå€¼
user1.email = String::from("121212");
//å¦‚æœç»™ä¸ä¸€ä¸ªå­—æ®µçš„å€¼å’Œä»–çš„åç§°ä¸€è‡´ï¼Œå¯ä»¥çœç•¥ä¸å†™ï¼Œå¦‚ä¸‹ï¼š
let email = String::from("122");
let mut user2 = User{
     email,
     name:String::from("zs"),
     active:1,
};
```

ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦ `..` å¯ä»¥å°†ä¸€ä¸ªstruct å®ä¾‹å±•å¼€ï¼Œå±•å¼€çš„ struct å¯ä»¥ç”¨äºå¡«å‡ºå…¶ä»–çš„ struct å®ä¾‹

```rust
let mut user2 = User{
    ..(user1)
};
```
rust è¿˜æ”¯æŒå…ƒç»„ `struct ` è¿™æ ·çš„ `struct` ,ä»–çš„å®šä¹‰ç±»ä¼¼äºå…ƒç»„ï¼Œå­—æ®µä¸éœ€è¦åç§°ï¼Œå­—æ®µçš„è·å–æ–¹å¼ä¹Ÿå’Œå…ƒç»„ç±»ä¼¼

```rust
//tuple structï¼Œå˜é‡æ²¡åå­—
struct Color(i32,i32,i32);
let black = Color(0,0,0);
```

ä½¿ç”¨ `impl` å—å¯ä»¥ä¸º struct åˆ›å»ºæ–¹æ³•ï¼Œéœ€è¦ä¼ å…¥ä¸€ä¸ª &self ä»£è¡¨æœ¬èº«ï¼Œä¼ å…¥è¿™ä¸ªå‚æ•°ä¹‹åï¼Œå¯ä»¥è°ƒç”¨ struct ä¸­çš„å­—æ®µå…ƒç´ ï¼Œåœ¨ self ä¹‹åå¯ä»¥ä¼ å…¥å…¶ä»–å…ƒç´ ï¼Œå°† struct å®ä¾‹åŒ–ä¹‹åï¼Œä½¿ç”¨ `.` æ¥è°ƒç”¨å¯¹åº”çš„æ–¹æ³•ï¼Œè¦æ³¨æ„ï¼Œè°ƒç”¨æ–¹æ³•æ—¶ï¼Œå¹¶ä¸éœ€è¦ä¼ å…¥ &self è¿™ä¸ªå‚æ•°

```rust
struct Long{
    a:u32,
    b:u32,
};
//implå—ç”¨äºå®šä¹‰æ–¹æ³•
impl Long {
    fn greater(&self, other: &Long) -> u32 {
        if self.a > other.a {
                1
        }else{
                2
        }
    }
};
println!("{}",l1.greater(&l2))
```

å¦‚æœå‡½æ•°ä¸­ä¸åŒ…å« &self è¿™ä¸ªå‚æ•°ï¼Œé‚£ä¹ˆè¿™ä¸ªå‡½æ•°ä¸éœ€è¦å®ä¾‹åŒ–ä¹Ÿå¯ä»¥è°ƒç”¨ï¼Œè°ƒç”¨æ–¹å¼ä¹Ÿæ˜¯ä½¿ç”¨ `::` æ¥è°ƒç”¨ï¼Œç±»ä¼¼æˆ‘ä»¬ä¹‹å‰ä½¿ç”¨çš„åœ¨Stringä¸­çš„ String::from ï¼Œè¿™ç±»å‡½æ•°å¸¸ç”¨äºåˆå§‹åŒ–ä¸€ä¸ª struct å®ä¾‹ï¼Œç±»ä¼¼äºå…¶ä»–è¯­è¨€ä¸­çš„ new

```rust
impl Long {
    fn creat_long(a: u32) -> Self {
        Self {
            a: a,
            b: a,
        }
    }
}
let l3 = Long:: creat_long (1);
```

## Rustæšä¸¾

æšä¸¾ç±»å‹å…è®¸ä½ ç»™å‡ºæ‰€æœ‰çš„å¯èƒ½å€¼ä½œä¸ºæˆå‘˜åˆ›å»ºä¸€ç§æ–°çš„æ•°æ®ç±»å‹ï¼Œä½¿ç”¨ `::` å¯ä»¥åˆ›å»ºä¸€ä¸ªæšä¸¾ä¸­ä¸€ç§ç±»å‹çš„å®ä¾‹ã€‚å½“ä½ ä½¿ç”¨ IpAddrKind ä½œä¸ºå˜é‡ç±»å‹æ—¶ï¼ŒIpAddrKind::V4 å’ŒIpAddrKind::V6 éƒ½å¯ä»¥ä¸å…¶åŒ¹é…

```rust
enum IpAddrKind {
    V4,
    V6,
}
let four = IpAddrKind::V4;
let six = IpAddrKind::V6;
//route(IpAddrKind::V4) å’Œ route(IpAddrKind::V6) éƒ½å¯ä»¥ä¼ å…¥
fn route(ip_kind: IpAddrKind) {}
```

åœ¨rustä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥å°†æ•°æ®é™„åŠ åˆ°æšä¸¾çš„æ¯ä¸ªæˆå‘˜ä¸Šï¼Œè¿™é‡Œç›´æ¥å±•ç¤ºä¸€ä¸ªä¾‹å­æ¥è¯´æ˜ï¼š

```rust
enum IpAddr {
   V4(u8, u8, u8, u8),
   V6(String),
}
let home = IpAddr::V4(127, 0, 0, 1);
let loopback = IpAddr::V6(String::from("::1"));
//è¿™ç§æ–¹å¼ç›¸å½“äºï¼Œloopbackçš„ç±»å‹æ˜¯IpAddr::V6ï¼ŒåŒæ—¶homeçš„å€¼æ˜¯"::1"
```

å¯ä»¥ä½¿ç”¨ `impl` æ¥ä¸ºç»“æ„ä½“å®šä¹‰æ–¹æ³•é‚£æ ·ï¼Œä¹Ÿå¯ä»¥åœ¨æšä¸¾ä¸Šå®šä¹‰æ–¹æ³•ï¼Œå…¶ä½¿ç”¨æ–¹å¼ä¸ struct ç±»ä¼¼

```rust
impl IpAddr {
     fn call(&self) {
         // åœ¨è¿™é‡Œå®šä¹‰æ–¹æ³•ä½“
     }
}
let loopback = IpAddr::V6(String::from("::1"));
loopback.call();
```

## Rustç©ºå€¼

rust å¹¶æ²¡æœ‰å¾ˆå¤šå…¶ä»–è¯­è¨€ä¸­æœ‰çš„ç©ºå€¼åŠŸèƒ½ï¼Œç©ºå€¼çš„é—®é¢˜åœ¨äºå½“ä½ å°è¯•åƒä¸€ä¸ªéç©ºå€¼é‚£æ ·ä½¿ç”¨ä¸€ä¸ªç©ºå€¼ï¼Œä¼šå‡ºç°æŸç§å½¢å¼çš„é”™è¯¯ã€‚ä½†æ˜¯rustæ˜¯ä¸€é—¨è¿½æ±‚å®‰å…¨çš„è¯­è¨€ï¼Œæ‰€ä»¥rust å¹¶æ²¡æœ‰ç©ºå€¼ï¼Œä½†æ˜¯æä¾›äº†ä¸€ä¸ª `Option<T>` æšä¸¾ï¼Œä»–åŒ…å«ä¸¤ä¸ªå€¼ï¼Œä¸€ä¸ªæ˜¯ None ä»£è¡¨ç©ºï¼Œä¸€ä¸ªæ˜¯ Some ï¼Œä»£è¡¨éç©º

```rust
enum Option<T> {
    None,
    Some(T),
}

let some_thing = Some(5);
let absent_number : Option<i32> = None;
```

å› ä¸ºrustéœ€è¦ç¡®ä¿å®‰å…¨ï¼Œæ‰€ä»¥ `Option<T>` å’Œ T ä¸èƒ½ç›´æ¥è¿›è¡Œè¿ç®—

```rust
let x: i8 = 5;
let y: Option<i8> = Some(5);
//è¿™æ˜¯ä¸å…è®¸çš„ï¼Œå³ä½¿yä¸æ˜¯None
let sum = x + y;
```

## match æ§åˆ¶æµ

match æ§åˆ¶ç¬¦å…è®¸æˆ‘ä»¬å°†ä¸€ä¸ªå€¼ä¸ä¸€ç³»åˆ—çš„æ¨¡å¼ç›¸æ¯”è¾ƒï¼Œå¹¶æ ¹æ®ç›¸åŒ¹é…çš„æ¨¡å¼æ‰§è¡Œç›¸åº”ä»£ç ï¼Œä¾‹å¦‚ä½¿ç”¨ä¸€ä¸ªæšä¸¾ç±»å‹ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®è¾“å…¥å€¼æ˜¯æšä¸¾çš„å“ªä¸€é¡¹æ‰§è¡Œä¸åŒçš„æ“ä½œï¼Œmatchçš„æ¯ä¸€é¡¹è¿”å›å€¼å¿…é¡»æ˜¯åŒä¸€ä¸ªç±»å‹ï¼Œå¦‚æœä»…è¿”å›ä¸€ä¸ªå€¼ï¼Œä¸éœ€è¦å¤§æ‹¬å·è¿›è¡ŒåŒ…è£¹ï¼Œä½†æ˜¯å¦‚æœä½ éœ€è¦æ‰§è¡Œå¤šä¸ªè¯­å¥ï¼Œåˆ™éœ€è¦ä¸€ä¸ªå¤§æ‹¬å·è¿›è¡ŒåŒ…è£¹

```rust
enum Coin{
    Penny,
    Nickel,
    Dime,
    Quarter(i32),
}

fn in_cents(coin:Coin) -> u8 {
    match coin {
        Coin::Penny => {
            println!("111");
            1
        },
        Coin::Nickel => 5,
        Coin::Dime => 10,
        Coin::Quarter(state) => {
            println!("{}",state);
            25
        },
    }
}
```

å½“ç„¶å¦‚æœä½ ä»…éœ€è¦åŒ¹é…å…¶ä¸­çš„éƒ¨åˆ†å†…å®¹ï¼Œä½ å¯ä»¥ä½¿ç”¨å ä½ç¬¦ `_` ä»£è¡¨å…¶ä»–å‰©ä½™çš„å…ƒç´ 

```rust
fn in_cents(coin:Coin) -> u8 {
    match coin {
        Coin::Penny => 1,
        Coin::Nickel => 5,
        _ => 2,
    }
}
```

å¦‚æœçš„åªéœ€è¦åŒ¹é…å…¶ä¸­ä¸€ä¸ªå…ƒç´ ï¼Œä½ è¿˜å¯ä»¥ä½¿ç”¨ if let è¯­æ³•ç³–æ¥ä¼˜åŒ–ï¼Œä¸‹é¢ä¸¤ç§è¡¨è¾¾çš„æ•ˆæœç›¸åŒ

```rust
match coin {
    Coin::Quarter(state) => println!("State quarter from {:?}!", state),
    _ => count += 1,
}
//å’Œä¸Šé¢è¡¨è¿°ç›¸åŒ
if let Coin::Quarter(state) = coin {
    println!("State quarter from {:?}!", state);
} else {
    count += 1;
}

```


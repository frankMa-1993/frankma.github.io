# React的架构

这个专栏的写作是为了记录在阅读 React 源码和 React 源码构造思想的时候的心得体会编写的，这个专栏将从 React 的怎么样将一个 jsx 组件生成出对应的 DOM 出发，讲解 React 源码的运行原理和设计思路，组件的生命周期如何绑定，React 的虚拟DOM 为什么比真实的DOM 高效，并且简要谈谈 React Hooks 的设计。

## React 的源码变迁和我们使用的版本

这篇教程基于的是 React 的 18.1.0 版本，源码地址：https://github.com/facebook/react。因为不同版本的源码和运行原理可能完全不一样，所以你需要注意你阅读的源码的版本。以下是一些主要的注意事项：

本文的一些原理和设计至少从 React 16 开始出现，因为 React 16 首次引入了 Fiber 架构，使得其相对于上一代发生了翻天覆地的变化。它使得 React 从组件渲染更新，任务调度，生命周期等方面发生的变化，整体也进行了大量的重构，这部分我们会在后续讲到。本教程的大部分内容将不适用于 React 16 之前用户阅读。

React 16.8 引入了 Hooks 的概念，通过 Hooks 解决嵌套问题，使得代码更加简洁。

React 17.0 引入了 concurrent mode 并发模式和 lanes 车道和，来调度任务和规划任务的优先级，这部分我们会在后续讲到。

React 18.0 则更新了 Root API 更新，可以为一个 React App 创建多个根节点。

## React 的存储节点的数据结构





